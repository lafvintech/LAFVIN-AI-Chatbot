.. _chatgpt:

==============================================
ChatGPT Tutorial
==============================================

Backend Setup
==============================================

To make the ESP32S3 AI Chatbot work properly, you need to register an OpenAI platform account and obtain an API key.

Note: This project requires the use of OpenAI API, and you need to pay for OpenAI. Additionally, the OpenAI API is billed separately from ChatGPT, with its own pricing available at https://openai.com/api/pricing/.

Therefore, you need to decide whether to continue with this project or ensure you have funded the OpenAI API.

1. Obtaining OpenAI API Key
------------------------------------------

1. First, visit https://platform.openai.com/api-keys, then click the Create new secret key button

.. figure:: img/api1.png
   :align: center

2. Select the Owner, Name, Project, and permissions as needed, and then click Create secret key.

.. figure:: img/api2.png
   :align: center

3. After generation, copy this API key and save it in a secure and accessible place. For security reasons, you will not be able to view or copy this API key again after closing this page.

.. figure:: img/api3.png
   :align: center

.. _chatgpt_firmware_upload:

Firmware Upload
===============

1. Double-click to open Flash Download Tools, then select the options as shown below:

.. list-table::
   :widths: 50
   :header-rows: 0

   * - .. figure:: img/flashtool1.png
          :width: 100%


2. Follow these steps to upload the firmware:

   A. Click the "Select File" button to choose your downloaded firmware file (.bin format)
   B. In the address input box after the bin file selection box, enter ``0 or 0x0`` (indicating that the firmware will be downloaded to the starting position of the development board's memory)
   C. Select the COM port corresponding to ESP32-S3 from the port selection dropdown menu (refer to the :ref:`install_driver` section for how to check the device manager for the specific port number)
   D. Set the baud rate (we use 465800 here)
   E. Click the "START" button to begin downloading the firmware to the ESP32-S3 development board

   .. figure:: img/flashtool2.png
      :align: center
      :width: 80%

   .. figure:: img/flash_gpt.png
      :align: center
      :width: 80%

.. _chatgpt_conf:

3. After the download is complete, press the RST button on the development board. The board will automatically restart and enter network configuration mode, displaying the configuration AP and password on the screen
   .. image:: img/wificonfig_gpt.png
4. Connect your phone to the hotspot named ESP32_Config. You can manually enter ``http://192.168.4.1`` in your browser to access the configuration interface
5. Select your WiFi network, enter the password, and fill in the API key (the network here needs to be able to connect to OpenAI's servers)
6. The development board will automatically restart, connect to your WiFi, and automatically connect to the AI service (if it doesn't restart after 30 seconds, you can press the RST button again)

.. image:: img/main_gpt.png

If you are using a macOS system, please refer to the firmware upload method described in :ref:`macos_upload`.